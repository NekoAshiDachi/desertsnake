{% extends "base.html" %}

<!--works similarly to a Python import on the template side;
wtf.quick_form() in a single line renders the complete form with support for
display validation errors, and bootstrap styles-->
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
    <h1>Sign In</h1>
    <div class="row">
        <div class="col-md-4">
            {{ wtf.quick_form(form) }}
        </div>
    </div>
    <br>
    <p>New User?
        <a href="{{ url_for('register') }}">Click to Register!</a>
    </p>
    <p>Forgot Your Password?
        <a href="{{ url_for('reset_password_request') }}">Click to Reset It</a>
    </p>
{% endblock %}

<!--The HTML <form> element is used as a container for the web form.

action attr = URL that should be used when submitting form data; when empty,
it is the address bar's URL (the URL that rendered the form on the page).

method attr = HTTP request method that should be used when submitting form
to the server; GET request by default; POST request almost better UX because
POST requests submit form data in the body of the request, while GET
requests add the form fields to the URL, cluttering the browser address bar.

novalidate attr = tells web browser to not apply validation to form fields,
which lets Flask application running in server apply validation.
<form action="" method="post" novalidate>

    form.hidden_tag() + SECRET_KEY var defined in the Flask configuration
    generates a hidden field that includes a token that is used to protect
    the form against CSRF attacks. Flask-WTF does the rest.
    {{ form.hidden_tag() }}
    <p>
        form object fields will render as HTML. Username and password
        fields' size args are added to the <input> HTML element as attrs.
        This is how CSS classes or IDs can be attached to form fields.
        {{ form.username.label }}<br>
        {{ form.username(size=32) }}

        shows form fields' validator error messages
        {% for error in form.username.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>
        {{ form.password.label }}<br>
        {{ form.password(size=32) }}
        {% for error in form.password.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </p>
    <p>{{ form.remember_me() }} {{ form.remember_me.label }}</p>
    <p>{{ form.submit() }}</p>
</form>

<p>
    New User?
    <a href="{{ url_for('register') }}">Click to Register!</a>
</p>

<p>
    Forgot Your Password?
    <a href="{{ url_for('reset_password_request') }}">Click to Reset It</a>
</p>-->

